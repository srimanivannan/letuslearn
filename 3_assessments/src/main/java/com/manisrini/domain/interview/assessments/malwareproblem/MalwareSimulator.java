package com.manisrini.domain.interview.assessments.malwareproblem;

import java.util.*;
import java.util.stream.*;

public class MalwareSimulator {
    public static int[] simulate(int[] input) {
        //        int[] input = {1, 2, 0, 5, 0, 2, 4, 3, 3, 3};
       int leftTPosition = 0;
       int rightTPosition = 7;
       int xPosition = 3;
       int xValue = input[3];
        List<Integer> result = IntStream.range(0, input.length)
            .boxed()
            .map(index -> processValue(input, index, leftTPosition, rightTPosition, xPosition, xValue))
            .collect(Collectors.toList());

        return result.stream().mapToInt(Integer::intValue).toArray();
    }

    private static int processValue(int[] input, int index, int leftTPosition, int rightTPosition, int xPosition, int xValue) {
//        if (input[index] == 0) {
//            return input[index];
//        }
        if (leftTPosition == index || rightTPosition == index) {
            return input[index];
        }

        //int leftT = findTOnLeft(input, index, leftTPosition);
        int leftTValue = input[leftTPosition];
        //int rightT = findTOnRight(input, index);
        int rightTValue = input[rightTPosition];

        if (leftTValue >= input[index] || rightTValue >= input[index]) {
            return 0;
        }
        return input[index];
    }
    public static void main(String[] args) {
        int[] input = {1, 2, 0, 5, 0, 2, 4, 3, 3, 3};
        int[] output = simulate(input);

        System.out.println(Arrays.toString(output));
    }
}
//T,-,-,X,-,-,-,T
//1,2,0,5,0,2,4,3,3,3


//{1,0,0,5,0,0,0,3,3,0}